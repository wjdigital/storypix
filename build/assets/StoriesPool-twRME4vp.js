class l{constructor(e=()=>{}){let n=this;this.stories=[],this.showed=null,this.onEnd=e,this.zuck=Zuck(document.querySelector("#stories"),{skin:"snapgram",autoFullScreen:!1,avatars:!0,list:!1,cubeEffect:!0,openEffect:!0,localStorage:!1,backButton:!1,previousTap:!1,language:{unmute:"Ativar som",keyboardTip:"",visitLink:"Acessar",time:{ago:"atrás",hour:"hora",hours:"horas",minute:"minuto",minutes:"minutos",fromnow:"desde agora",seconds:"segundos",yesterday:"ontem",tomorrow:"amanhã",days:"dias"}},callbacks:{onOpen:function(s,t){t();let o=document.querySelector("#zuck-modal-slider-stories > div > div.head > div.left > div > strong");o.innerHTML=`${o.innerHTML}&nbsp;<div class="w-4 h-4 rounded-full"><img src="https://i.imgur.com/VAjDjW3.png"></div>`},onView:function(s,t){t==null||t()},onEnd:function(s,t){t();var o=n.stories.find(i=>i.id===s),r=document.querySelector('[data-id="'+s+'"]');r.querySelector(".stories.carousel .story>.item-link>.info .name").innerHTML=`${o.name}&nbsp;<div class="w-4 h-4 bg-white rounded-full"><img src="https://i.imgur.com/VAjDjW3.png"
                            alt="Verified" class="w-full h-full">
                    </div>`,document.querySelector("#question").style="",document.querySelector("#watch").style="display: none;",document.querySelectorAll("#question button").forEach(i=>i.disabled=!1)},onClose:function(s,t){t(),document.querySelector("#question").style="",document.querySelector("#watch").style="display: none;"},onNextItem:function(s,t,o){o()},onNavigateItem:function(s,t,o){o()},onDataUpdate:function(s,t){t()}}})}showStory(e){this.zuck.add(e),document.querySelector(".stories.carousel .story>.item-link>.info .name").innerHTML=`${e.name} <div class="w-4 h-4 bg-white rounded-full"><img src="https://i.imgur.com/VAjDjW3.png"
        alt="Verified" class="w-full h-full"></div>`,this.showed=e}addStory(e){var n=this;this.stories.push(e),this.showed==null&&n.showStory(e)}removeStory(e){this.stories=this.stories.filter(n=>n.id!==e.id),this.zuck.remove(e.id),this.zuck.remove(e)}setOnEnd(e){this.onEnd=e}next(){document.querySelector("#question").style="display: none;",document.querySelectorAll("#question button").forEach(o=>o.disabled=!0),new Audio("/assets/audio/cashing.mp3").play();var e=this.showed.gain;const n=document.getElementById("balance");var s=parseFloat(n.innerText.replaceAll("R$ ","").replaceAll(".","").replaceAll(",",".").replaceAll("&nbsp;",""));s+=e,s="R$ "+s.toFixed(2).replace(".",","),n.innerText=s,Swal.fire({toast:!0,position:"top",background:"rgb(252 0 98)",showConfirmButton:!1,timer:2e3,padding:"5px",width:"100%",html:`

        <div class="flex items-center w-full text-lg">
            <div class="inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-white rounded-lg">
                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"/>
                </svg>
            </div>
            <div class="text-white ms-3 font-normal">Você ganhou R$&nbsp;${e.toFixed(2).replace(".",",")} por avaliar a publicação!</div>
        </div>
        `});var t=document.querySelector('[data-id="'+this.showed.id+'"]');t.animate([{transform:"translateX(0%)"},{transform:"translateX(-180%)"}],{duration:600,easing:"ease-out"}).finished.then(()=>{if(this.removeStory(this.showed),this.stories.length==0){this.onEnd();return}var o=this.stories[0];this.showStory(o);var r=document.querySelector('[data-id="'+o.id+'"]');r.style="transform: translateX(180%);",r.animate([{transform:"translateX(180%)"},{transform:"translateX(0%)"}],{duration:600,easing:"ease-out"}).finished.then(()=>{r.style="",document.querySelector("#watch").style="display: block;"})})}}export{l as S};
